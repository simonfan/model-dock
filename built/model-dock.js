//     subject
//     (c) simonfan
//     subject is licensed under the MIT terms.

define("subject",["lodash"],function(t){var e={initialize:function(){}},o=function(){};return o.prototype=e,o.proto=function(e,o){return t.isObject(e)?t.assign(this.prototype,e):this.prototype[e]=o,this},o.extend=function(e,o,i){var d,a;t.isFunction(e)?(d=t.assign({},o,{initialize:e}),a=i):t.isObject(e)&&(d=e||{},a=i);var n,r=this;return n=function(){var t=Object.create(n.prototype);return t.initialize.apply(t,arguments),t},t.assign(n,r,a),n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.proto(d),n.__super__=r.prototype,n},o.extend.bind(o)}),define("__model-dock/attach/model-to-dom/initialize",["require","exports","module","jquery.filler"],function(t,e,o){{var i=t("jquery.filler");o.exports=function(){this.fill=i(this.$el,this.map)}}}),define("__model-dock/attach/dom-to-model/initialize",["require","exports","module","lodash"],function(t,e,o){var i=t("lodash");o.exports=function(){this.$els={},i.each(this.map,i.bind(function(t,e){this.bindInput(t,e)},this))}}),define("__model-dock/attach/initialize",["require","exports","module","lodash","./model-to-dom/initialize","./dom-to-model/initialize"],function(t,e,o){var i=(t("lodash"),t("./model-to-dom/initialize")),d=t("./dom-to-model/initialize");o.exports=function(t,e,o){i.call(this),d.call(this),o&&this.attach(o)}}),define("__model-dock/attach/model-to-dom/update",["require","exports","module","lodash"],function(t,e,o){{var i=t("lodash");o.exports=function(t){var e=this.stringifiers,o=i.mapValues(t.attributes,function(t,o){console.log(t),console.log(o);var i=e[o];return i?i.call(this,t):t});this.fill(o)}}}),define("__model-dock/attach/model-to-dom/attach",["require","exports","module","lodash","./update"],function(t,e,o){{var i=t("lodash"),d=t("./update");o.exports=function(t){var e=i.bind(d,this);t.on("change",e),e(t)}}}),define("__model-dock/attach/dom-to-model/read-dom-value",["require","exports","module","lodash","jquery"],function(t,e,o){var i=t("lodash"),d=t("jquery"),a={"default":function(t){return t.val()},DIV:function(t){return t.html()},INPUT:function(t){return"checkbox"===t.prop("type")?i.map(t.filter(":checked"),function(t){return d(t).val()}):t.val()}};o.exports=function(t){var e=t.prop("tagName"),o=a[e]||a["default"];return o(t)}}),define("__model-dock/attach/dom-to-model/update",["require","exports","module","jquery","./read-dom-value"],function(t,e,o){var i=t("jquery"),d=t("./read-dom-value");o.exports=function(t){var e=i(t.target),o=e.data("_dock_-bound-attribute");if(o){var a=e.data("_dock_-selector"),n=this.$els[a],r=d(n),l=this.parsers[o];r=l?l.call(this,r):r,this.model.set(o,r)}}}),define("__model-dock/attach/dom-to-model/attach",["require","exports","module","lodash","./update"],function(t,e,o){var i=t("lodash"),d=t("./update");o.exports=function(){this.$el.on("change",this.inputSelector,i.bind(d,this))}}),define("__model-dock/attach/dom-to-model/bind-input",["require","exports","module","lodash","jquery"],function(t,e,o){{var i=t("lodash");t("jquery")}o.exports=function(t,e){if(i.isArray(t))i.each(t,i.bind(function(t){this.bindInput(t,e)},this));else{var o=this.$els[t]=this.$el.find(t);o.length>0&&o.data("_dock_-bound-attribute",e).data("_dock_-selector",t)}}}),define("__model-dock/attach/index",["require","exports","module","lodash","./model-to-dom/attach","./dom-to-model/attach","./dom-to-model/bind-input"],function(t,e){var o=(t("lodash"),t("./model-to-dom/attach")),i=t("./dom-to-model/attach");e.stringifiers={},e.parsers={},e.inputSelector="input,textarea",e.bindInput=t("./dom-to-model/bind-input"),e.attach=function(t){this.detach(),this.model=t,o.apply(this,arguments),i.apply(this,arguments)},e.detach=function(){this.model&&(this.model.off("change",this._updateView),this.model=void 0)}}),define("__model-dock/proxy",["require","exports","module","lodash"],function(t,e){var o=t("lodash");e.invokeModelMethod=function(t,e){var o=this.model;return o?o[t].apply(o,e):void 0};var i=["set","get","save"];o.each(i,function(t){e[t]=function(){return this.invokeModelMethod(t,arguments)}})}),define("model-dock",["require","exports","module","lodash","subject","./__model-dock/attach/initialize","./__model-dock/attach/index","./__model-dock/proxy"],function(t,e,o){var i=(t("lodash"),t("subject")),d=t("./__model-dock/attach/initialize"),a=o.exports=i(function(t,e,o){this.$el=t||this.$el,this.map=e||this.map,this.model=o||this.model,d.apply(this,arguments)});a.proto({model:void 0,map:{}}),a.proto(t("./__model-dock/attach/index")),a.proto(t("./__model-dock/proxy"))});